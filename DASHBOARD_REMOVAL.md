# DCAM 系统更新：移除 Dashboard 路由

## 更改摘要

根据需求，我们已经移除了 `/dashboard` 路由，并将相关功能整合到主页 (`/`) 中。主要目标是简化用户体验，减少不必要的页面跳转。

## 详细更改

1. **删除路由**
   - 移除了 `/dashboard` 路由及其函数
   - 保留了相关的客户选择功能，但集成到主页中

2. **更新重定向**
   - 登录成功后重定向到 `/` (主页) 而不是 `/dashboard`
   - 客户错误页面也重定向到主页而不是 dashboard

3. **更新模板**
   - 在 `customer.html` 中更新了返回链接，指向主页而不是 dashboard
   - 创建了新的 `customer_cards.html` 组件，用于主页中显示客户选择卡片
   - 将客户卡片整合到主页模板中

4. **功能整合**
   - 在主页中整合了全局查询和客户选择功能
   - 为主页添加了客户 YAML 映射数据，使客户卡片可以正常显示

## 代码变更摘要

### app.py 修改
- 删除了 `/dashboard` 路由定义
- 更新了 `index()` 函数，添加了 `customer_yaml_mapping` 数据
- 更新了重定向，从 `url_for('dashboard')` 改为 `url_for('index')`

### 模板修改
- 更新了 `customer.html` 中的返回链接
- 创建了 `customer_cards.html` 组件
- 在 `main_index.html` 中添加了引用，包含客户卡片

## 好处

- **简化用户体验**：减少了不必要的页面跳转，用户可以在主页直接选择客户
- **功能整合**：将相关功能集中在一个页面，提高了易用性
- **代码精简**：删除了不必要的路由和重定向逻辑
- **维护简化**：减少了需要维护的路由和视图函数

## 后续建议

1. **进一步优化主页**：可以考虑重新设计主页，更好地整合客户选择、全局查询和最近访问功能
2. **用户反馈**：收集用户对新界面的反馈，根据需要进行调整
3. **测试**：全面测试所有链接和重定向，确保没有遗漏任何引用